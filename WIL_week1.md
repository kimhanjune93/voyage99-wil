# WIL week1

## 1. jwt 란?

### 정의)
- Json Web Token 약자로 모바일이나 웹의 사용자 인증을 위해 사용하는 암호화된 토큰을 의미한다.<br>
- JWT 정보를 request에 담아 사용자응 정보 열람, 수정 등 개인적인 작업 등을 수행할 수 있게한다.
### 구조)
Header(헤더), Payload(내용), Signature(서명)

- Header: 3가지 요소를 암호화할 알고리즘 등과 같은 옵션이 들어간다.<br>
- Payload: 유저의 고유 ID 등 인증에 필요한 정보가 들어간다.<br>
- Signature: Header, Payload와 Secret Key가 더해져 암호화된다.

### 장점)
- JWT 의 주요한 이점은 사용자 인증에 필요한 모든 정보는 토큰 자체에 포함하기 때문에 별도의 인증 저장소가 필요 없다.
- 쿠키를 전달하지 않아도 되므로 쿠키를 사용함으로써 발생하는 취약점이 사라진다.
- URL 파라미터와 헤더로 사용한다
- 트래픽 대한 부담이 낮다

### 단점)
- 토큰 길이: 토큰의 페이로드(Payload)에 3종류의 클레임을 저장하기 때문에, 정보가 많아질수록 토큰의 길이가 늘어나 네트워크에 부하를 줄 수 있다.
- Payload 인코딩: 페이로드(Payload) 자체는 암호화 된 것이 아니라, BASE64로 인코딩 된 것입니다. 중간에 Payload를 탈취하여 디코딩하면 데이터를 볼 수 있으므로, JWE로 암호화하거나 Payload에 중요 데이터를 넣지 않아야 한다.
- Stateless: JWT는 상태를 저장하지 않기 때문에 한번 만들어지면 제어가 불가능합니다. 즉, 토큰을 임의로 삭제하는 것이 불가능하므로 토큰 만료 시간을 꼭 넣어주어야 한다.

### 미니프로젝트 로그인 기능)
<img width="849" alt="스크린샷 2021-09-19 오후 9 10 48" src="https://user-images.githubusercontent.com/51510602/133927006-4c736794-565e-4455-923f-752ee128cb43.png">
### index.html 렌더링 함수)
<img width="849" alt="스크린샷 2021-09-19 오후 9 10 48" src="https://user-images.githubusercontent.com/51510602/133927054-1a105116-6a03-473b-87de-86098a477488.png">
 - ExpiredSignatureError, DecodeError이 에러들의 에러처리를 하지 않으면 로그인 상태가 아닐때 메인페이지가 열리지 않는다.
   
## 2. api 란?

### 정의)
- 웹 서버 또는 웹 브라우저를 위한 애플리케이션 프로그래밍 인터페이스이다. HTTP 서비스이고 다양한 클라이언트에서 접근이 가능하도록 설계되어있다. Web 환경을 통해 제공되는 데이터 CRUD인터페이스를 제공한다.
- 은행창구를 생각하면 이해가 쉽다.
### 역할)
- API는 서버와 데이터베이스에 대한 출입구 역할을 한다.
- API는 애플리케이션과 기기가 원활하게 통신할 수 있도록 한다.

## 3. ajax란?

### 정의)
- 자바스크립트를 통해서 서버에 데이터를 비동기 방식으로 요청하는 것이다.

### 장점)
- 페이지 리로드의 경우 전체 리소스를 다시 불러와야하는데 이미지, 스크립트 , 기타 코드등을 모두 재요청할 경우 불필요한 리소스 낭비가 발생하게 되지만 비동기식 방식을 이용할 경우 필요한 부분만 불러와 사용할 수 있으므로 매우 큰 장점이 있다.

### ajax, flask get 방식

<img width="356" alt="스크린샷 2021-09-19 오후 9 30 27" src="https://user-images.githubusercontent.com/51510602/133927572-119bcf93-8fe9-4f7d-a854-39994feffaae.png">

- ajax에서 서버로 데이터를 보낼때 get방식의 경우 url에 데이터를 태워서 보낸다.(데이터를 안보내도됨)

- 서버에서 url에 태운 데이터를 받을때 request.args.get('data_give') 로 받는다.

### ajax, flask post 방식

![스크린샷 2021-09-19 오후 9.43.32](/Users/kim/Desktop/스크린샷 2021-09-19 오후 9.43.32.png)

- ajax에서 서버로 데이터를 보낼때 post 방식의 경우 data:{}에 보낼 데이터를 기입한다.
- ajax에서 보낸 데이터를 서버에서 받을때 request.form[]으로 받는다.

## 미니 프로젝트 피드백

문제 : 모든 api에 jwt인증 코드를 반복해서 넣어놓아서 유지보수가 어렵다.

피드백 : 반복되는 코드를 모듈화.



